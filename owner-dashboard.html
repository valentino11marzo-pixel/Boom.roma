<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Owner Portal - BOOM</title>
    
    <meta name="description" content="Complete property management portal">
    <meta name="theme-color" content="#0A0A0A">
    
    <!-- Performance Optimization -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Bebas+Neue&family=Oswald:wght@200;300;400;500;600;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
        }

        :root {
            --boom-yellow: #FFD700;
            --boom-cyan: #00CED1;
            --boom-green: #00FF88;
            --boom-red: #FF3B3B;
            --boom-purple: #9D4EDD;
            --boom-blue: #4A90E2;
            --dark-bg: #0A0A0A;
            --dark-surface: #1A1A1A;
            --dark-elevated: #252525;
            --dark-border: rgba(255, 255, 255, 0.08);
            --text-primary: #FFFFFF;
            --text-secondary: #888888;
            --font-display: 'Bebas Neue', sans-serif;
            --font-heading: 'Oswald', sans-serif;
            --font-body: 'Inter', -apple-system, sans-serif;
        }

        html {
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-body);
            background: var(--dark-bg);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Login Screen */
        .login-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            background: radial-gradient(circle at center, rgba(157, 78, 221, 0.1), var(--dark-bg));
        }

        .login-container {
            max-width: 450px;
            width: 100%;
            background: var(--dark-surface);
            border: 1px solid var(--dark-border);
            border-radius: 24px;
            padding: 50px 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
        }

        .login-logo {
            text-align: center;
            margin-bottom: 40px;
        }

        .login-logo-circle {
            width: 80px;
            height: 80px;
            background: var(--boom-yellow);
            border-radius: 50%;
            margin: 0 auto 20px;
            box-shadow: 0 0 40px rgba(255, 215, 0, 0.6);
            animation: pulse 3s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 40px rgba(255, 215, 0, 0.6); }
            50% { box-shadow: 0 0 60px rgba(255, 215, 0, 0.8); }
        }

        .login-logo-text {
            font-family: var(--font-display);
            font-size: 48px;
            letter-spacing: 3px;
        }

        .login-title {
            font-family: var(--font-heading);
            font-size: 28px;
            font-weight: 300;
            text-transform: uppercase;
            text-align: center;
            margin-bottom: 10px;
        }

        .login-subtitle {
            text-align: center;
            color: var(--text-secondary);
            font-size: 14px;
            margin-bottom: 40px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 20px;
        }

        .form-label {
            font-size: 13px;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        .form-input {
            padding: 16px 20px;
            background: var(--dark-elevated);
            border: 1px solid var(--dark-border);
            border-radius: 12px;
            color: var(--text-primary);
            font-size: 16px;
            font-family: var(--font-body);
            transition: all 0.3s;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--boom-purple);
            box-shadow: 0 0 0 4px rgba(157, 78, 221, 0.1);
        }

        textarea.form-input {
            resize: vertical;
            min-height: 100px;
        }

        .btn-login {
            padding: 18px;
            background: linear-gradient(135deg, var(--boom-purple), var(--boom-blue));
            color: white;
            border: none;
            border-radius: 100px;
            font-size: 14px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 20px rgba(157, 78, 221, 0.4);
            width: 100%;
        }

        .btn-login:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(157, 78, 221, 0.6);
        }

        .error-message {
            padding: 12px 16px;
            background: rgba(255, 59, 59, 0.1);
            border: 1px solid var(--boom-red);
            border-radius: 10px;
            color: var(--boom-red);
            font-size: 13px;
            text-align: center;
            display: none;
            margin-bottom: 20px;
        }

        .error-message.show {
            display: block;
            animation: shake 0.5s;
        }

        .success-message {
            padding: 12px 16px;
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid var(--boom-green);
            border-radius: 10px;
            color: var(--boom-green);
            font-size: 13px;
            text-align: center;
            display: none;
            margin-bottom: 20px;
        }

        .success-message.show {
            display: block;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        /* Dashboard Layout */
        .dashboard-container {
            display: none;
            grid-template-columns: 280px 1fr;
            min-height: 100vh;
        }

        .dashboard-container.active {
            display: grid;
        }

        /* Sidebar */
        .sidebar {
            background: var(--dark-surface);
            border-right: 1px solid var(--dark-border);
            padding: 30px 20px;
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 40px;
            cursor: pointer;
            transition: opacity 0.3s;
        }

        .logo-container:hover {
            opacity: 0.8;
        }

        .logo-circle {
            width: 40px;
            height: 40px;
            background: var(--boom-yellow);
            border-radius: 50%;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.6);
        }

        .logo-text {
            font-family: var(--font-display);
            font-size: 32px;
            letter-spacing: 2px;
        }

        .owner-badge {
            padding: 15px 20px;
            background: linear-gradient(135deg, rgba(157, 78, 221, 0.15), rgba(74, 144, 226, 0.15));
            border: 1px solid var(--boom-purple);
            border-radius: 16px;
            margin-bottom: 30px;
        }

        .owner-label {
            font-size: 11px;
            color: var(--boom-purple);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1.5px;
        }

        .owner-name {
            font-size: 16px;
            font-weight: 600;
            margin-top: 8px;
        }

        .nav-menu {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .nav-item {
            padding: 14px 16px;
            background: transparent;
            border: 1px solid transparent;
            border-radius: 12px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .nav-item:hover {
            background: var(--dark-elevated);
            color: var(--text-primary);
        }

        .nav-item.active {
            background: var(--dark-elevated);
            border-color: var(--boom-purple);
            color: var(--text-primary);
        }

        .btn-logout {
            width: 100%;
            padding: 14px;
            background: transparent;
            border: 1px solid var(--dark-border);
            color: var(--text-secondary);
            border-radius: 12px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
        }

        .btn-logout:hover {
            border-color: var(--boom-red);
            color: var(--boom-red);
            background: rgba(255, 59, 59, 0.05);
        }

        /* Main Content */
        .main-content {
            padding: 40px;
            max-width: 1400px;
            overflow-y: auto;
        }

        .page-header {
            margin-bottom: 40px;
        }

        .page-title {
            font-family: var(--font-heading);
            font-size: 48px;
            font-weight: 300;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        .page-subtitle {
            color: var(--text-secondary);
            font-size: 16px;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            padding: 30px;
            background: var(--dark-surface);
            border: 1px solid var(--dark-border);
            border-radius: 20px;
            transition: all 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            border-color: var(--boom-purple);
            box-shadow: 0 10px 40px rgba(157, 78, 221, 0.2);
        }

        .stat-label {
            font-size: 12px;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1.5px;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .stat-value {
            font-size: 40px;
            font-weight: 700;
            font-family: var(--font-heading);
            margin-bottom: 8px;
        }

        .stat-change {
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        /* Property Cards */
        .properties-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 24px;
            margin-bottom: 40px;
        }

        .property-card {
            background: var(--dark-surface);
            border: 1px solid var(--dark-border);
            border-radius: 20px;
            overflow: hidden;
            transition: all 0.3s;
            cursor: pointer;
        }

        .property-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
        }

        .property-image {
            width: 100%;
            height: 220px;
            background: var(--dark-elevated);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 64px;
            position: relative;
            overflow: hidden;
        }

        .property-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .property-status {
            position: absolute;
            top: 16px;
            right: 16px;
            padding: 8px 16px;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 100px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            z-index: 1;
        }

        .status-available {
            color: var(--boom-green);
            border: 1px solid var(--boom-green);
        }

        .status-rented {
            color: var(--boom-yellow);
            border: 1px solid var(--boom-yellow);
        }

        .status-maintenance {
            color: var(--boom-red);
            border: 1px solid var(--boom-red);
        }

        .property-info {
            padding: 24px;
        }

        .property-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .property-address {
            color: var(--text-secondary);
            font-size: 14px;
            margin-bottom: 16px;
        }

        .property-details {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            padding-top: 16px;
            border-top: 1px solid var(--dark-border);
        }

        .property-detail {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .property-detail strong {
            color: var(--text-primary);
            display: block;
            font-size: 18px;
            margin-bottom: 4px;
        }

        .property-actions {
            display: flex;
            gap: 10px;
        }

        .btn-property {
            flex: 1;
            padding: 12px;
            background: var(--dark-elevated);
            border: 1px solid var(--dark-border);
            color: var(--text-primary);
            border-radius: 10px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-property:hover {
            border-color: var(--boom-purple);
            background: rgba(157, 78, 221, 0.1);
        }

        .btn-property.danger:hover {
            border-color: var(--boom-red);
            background: rgba(255, 59, 59, 0.1);
            color: var(--boom-red);
        }

        /* Add Property Button */
        .btn-add-property {
            padding: 16px 32px;
            background: linear-gradient(135deg, var(--boom-purple), var(--boom-blue));
            color: white;
            border: none;
            border-radius: 100px;
            font-size: 14px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 20px rgba(157, 78, 221, 0.4);
            display: inline-flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 30px;
        }

        .btn-add-property:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(157, 78, 221, 0.6);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
            overflow-y: auto;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--dark-surface);
            border: 1px solid var(--dark-border);
            border-radius: 24px;
            padding: 40px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .modal-title {
            font-family: var(--font-heading);
            font-size: 32px;
            font-weight: 300;
            text-transform: uppercase;
        }

        .btn-close {
            width: 40px;
            height: 40px;
            background: var(--dark-elevated);
            border: 1px solid var(--dark-border);
            color: var(--text-primary);
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn-close:hover {
            border-color: var(--boom-red);
            color: var(--boom-red);
        }

        /* File Upload */
        .file-upload-area {
            padding: 40px;
            border: 2px dashed var(--dark-border);
            border-radius: 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 20px;
        }

        .file-upload-area:hover {
            border-color: var(--boom-purple);
            background: rgba(157, 78, 221, 0.05);
        }

        .file-upload-area.dragover {
            border-color: var(--boom-cyan);
            background: rgba(0, 206, 209, 0.1);
        }

        .file-upload-icon {
            font-size: 48px;
            margin-bottom: 16px;
        }

        .file-upload-text {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .file-upload-hint {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .uploaded-images {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 12px;
            margin-bottom: 20px;
        }

        .uploaded-image {
            position: relative;
            aspect-ratio: 1;
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid var(--dark-border);
        }

        .uploaded-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .btn-remove-image {
            position: absolute;
            top: 4px;
            right: 4px;
            width: 24px;
            height: 24px;
            background: rgba(255, 59, 59, 0.9);
            border: none;
            color: white;
            border-radius: 50%;
            font-size: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Documents List */
        .documents-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .document-item {
            padding: 20px 24px;
            background: var(--dark-surface);
            border: 1px solid var(--dark-border);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: all 0.3s;
        }

        .document-item:hover {
            border-color: var(--boom-cyan);
            background: rgba(0, 206, 209, 0.05);
        }

        .document-info {
            display: flex;
            align-items: center;
            gap: 16px;
            flex: 1;
        }

        .document-icon {
            font-size: 32px;
        }

        .document-preview {
            width: 60px;
            height: 60px;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid var(--dark-border);
        }

        .document-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .document-name {
            font-weight: 600;
            font-size: 15px;
        }

        .document-meta {
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        .document-actions {
            display: flex;
            gap: 8px;
        }

        .btn-document {
            padding: 10px 20px;
            background: transparent;
            border: 1px solid var(--dark-border);
            color: var(--text-primary);
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-document:hover {
            border-color: var(--boom-cyan);
            background: rgba(0, 206, 209, 0.1);
        }

        .btn-document.danger:hover {
            border-color: var(--boom-red);
            background: rgba(255, 59, 59, 0.1);
            color: var(--boom-red);
        }

        /* Empty State */
        .empty-state {
            padding: 80px 40px;
            background: var(--dark-surface);
            border: 1px dashed var(--dark-border);
            border-radius: 20px;
            text-align: center;
        }

        .empty-icon {
            font-size: 80px;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        .empty-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .empty-text {
            color: var(--text-secondary);
        }

        /* Section */
        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        /* Loading Spinner */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid var(--dark-border);
            border-top-color: var(--boom-purple);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .dashboard-container {
                grid-template-columns: 1fr;
            }

            .sidebar {
                display: none;
            }

            .main-content {
                padding: 20px;
            }

            .page-title {
                font-size: 32px;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .properties-grid {
                grid-template-columns: 1fr;
            }

            .modal-content {
                padding: 24px;
            }
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div class="login-screen" id="loginScreen">
        <div class="login-container">
            <div class="login-logo">
                <div class="login-logo-circle"></div>
                <div class="login-logo-text">BOOM</div>
            </div>

            <h1 class="login-title">Owner Portal</h1>
            <p class="login-subtitle">Secure access to your properties</p>

            <div class="error-message" id="errorMessage"></div>

            <form onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label class="form-label">Your Name</label>
                    <input 
                        type="text" 
                        class="form-input" 
                        id="ownerName"
                        required
                        placeholder="e.g., Mario Rossi"
                        autocomplete="off"
                    >
                </div>

                <div class="form-group">
                    <label class="form-label">Your Password</label>
                    <input 
                        type="password" 
                        class="form-input" 
                        id="ownerPassword"
                        required
                        placeholder="Your personal password"
                        autocomplete="off"
                    >
                </div>

                <button type="submit" class="btn-login">
                    üîê Access Dashboard
                </button>
            </form>

            <div style="text-align: center; margin-top: 30px; font-size: 13px; color: var(--text-secondary);">
                First time? Just create your own password!<br>
                Need help? <a href="https://wa.me/393313251961" style="color: var(--boom-purple); text-decoration: none;">Contact us</a>
            </div>
        </div>
    </div>

    <!-- Dashboard -->
    <div class="dashboard-container" id="dashboardContainer">
        <aside class="sidebar">
            <div class="logo-container" onclick="window.location.href='/'">
                <div class="logo-circle"></div>
                <div class="logo-text">BOOM</div>
            </div>

            <div class="owner-badge">
                <div class="owner-label">Owner Portal</div>
                <div class="owner-name" id="dashboardOwnerName"></div>
            </div>

            <nav class="nav-menu">
                <div class="nav-item active" onclick="switchSection('overview')">
                    üìä Overview
                </div>
                <div class="nav-item" onclick="switchSection('properties')">
                    üè† My Properties
                </div>
                <div class="nav-item" onclick="switchSection('documents')">
                    üìÑ Documents
                </div>
                <div class="nav-item" onclick="switchSection('calendar')">
                    üìÖ Calendar
                </div>
                <div class="nav-item" onclick="switchSection('payments')">
                    üí∞ Payments
                </div>
            </nav>

            <button class="btn-logout" onclick="handleLogout()">
                üö™ Logout
            </button>
        </aside>

        <main class="main-content">
            <!-- Overview Section -->
            <div class="section active" id="overviewSection">
                <div class="page-header">
                    <h1 class="page-title">Overview</h1>
                    <p class="page-subtitle">Your portfolio at a glance</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Total Properties</div>
                        <div class="stat-value" id="statTotalProperties">0</div>
                        <div class="stat-change">
                            All managed by BOOM
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-label">Currently Rented</div>
                        <div class="stat-value" id="statRented">0</div>
                        <div class="stat-change">
                            Active contracts
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-label">Available Now</div>
                        <div class="stat-value" id="statAvailable">0</div>
                        <div class="stat-change">
                            Ready to rent
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-label">Monthly Revenue</div>
                        <div class="stat-value" id="statRevenue">‚Ç¨0</div>
                        <div class="stat-change">
                            This month
                        </div>
                    </div>
                </div>

                <button class="btn-add-property" onclick="openAddPropertyModal()">
                    ‚ûï Add New Property
                </button>

                <div id="overviewPropertiesList"></div>
            </div>

            <!-- Properties Section -->
            <div class="section" id="propertiesSection">
                <div class="page-header">
                    <h1 class="page-title">My Properties</h1>
                    <p class="page-subtitle">Manage all your properties</p>
                </div>

                <button class="btn-add-property" onclick="openAddPropertyModal()">
                    ‚ûï Add New Property
                </button>

                <div id="propertiesList"></div>
            </div>

            <!-- Documents Section -->
            <div class="section" id="documentsSection">
                <div class="page-header">
                    <h1 class="page-title">Documents</h1>
                    <p class="page-subtitle">All your contracts and paperwork</p>
                </div>

                <button class="btn-add-property" onclick="openUploadDocumentModal()">
                    üì§ Upload Document
                </button>

                <div class="documents-list" id="documentsList"></div>
            </div>

            <!-- Calendar Section -->
            <div class="section" id="calendarSection">
                <div class="page-header">
                    <h1 class="page-title">Calendar</h1>
                    <p class="page-subtitle">View bookings and important dates</p>
                </div>

                <div class="empty-state">
                    <div class="empty-icon">üìÖ</div>
                    <div class="empty-title">Calendar View</div>
                    <div class="empty-text">
                        Interactive calendar with all your bookings<br>
                        will be available soon!
                    </div>
                </div>
            </div>

            <!-- Payments Section -->
            <div class="section" id="paymentsSection">
                <div class="page-header">
                    <h1 class="page-title">Payments</h1>
                    <p class="page-subtitle">Track your income</p>
                </div>

                <div class="empty-state">
                    <div class="empty-icon">üí∞</div>
                    <div class="empty-title">Payment Tracking</div>
                    <div class="empty-text">
                        Detailed payment history and analytics<br>
                        will be available soon!
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Add Property Modal -->
    <div class="modal" id="addPropertyModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Add Property</h2>
                <button class="btn-close" onclick="closeModal('addPropertyModal')">√ó</button>
            </div>

            <div class="success-message" id="addPropertySuccess"></div>

            <form onsubmit="handleAddProperty(event)">
                <div class="form-group">
                    <label class="form-label">Property Name *</label>
                    <input 
                        type="text" 
                        class="form-input" 
                        id="propertyName"
                        required
                        placeholder="e.g., Apartment Trastevere"
                    >
                </div>

                <div class="form-group">
                    <label class="form-label">Full Address *</label>
                    <input 
                        type="text" 
                        class="form-input" 
                        id="propertyAddress"
                        required
                        placeholder="e.g., Via della Paglia 14, Trastevere, Rome"
                    >
                </div>

                <div class="form-group">
                    <label class="form-label">Description</label>
                    <textarea 
                        class="form-input" 
                        id="propertyDescription"
                        placeholder="Describe your property..."
                    ></textarea>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                    <div class="form-group">
                        <label class="form-label">Monthly Rent (‚Ç¨) *</label>
                        <input 
                            type="number" 
                            class="form-input" 
                            id="propertyRent"
                            required
                            placeholder="1200"
                        >
                    </div>

                    <div class="form-group">
                        <label class="form-label">Bedrooms *</label>
                        <input 
                            type="number" 
                            class="form-input" 
                            id="propertyBedrooms"
                            required
                            placeholder="2"
                        >
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                    <div class="form-group">
                        <label class="form-label">Bathrooms</label>
                        <input 
                            type="number" 
                            class="form-input" 
                            id="propertyBathrooms"
                            placeholder="1"
                        >
                    </div>

                    <div class="form-group">
                        <label class="form-label">Area (m¬≤) *</label>
                        <input 
                            type="number" 
                            class="form-input" 
                            id="propertySqm"
                            required
                            placeholder="75"
                        >
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Status</label>
                    <select class="form-input" id="propertyStatus">
                        <option value="available">Available</option>
                        <option value="rented">Rented</option>
                        <option value="maintenance">Maintenance</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Property Photos</label>
                    <div class="file-upload-area" id="photoUploadArea" onclick="document.getElementById('photoInput').click()">
                        <div class="file-upload-icon">üì∏</div>
                        <div class="file-upload-text">Click or drag photos here</div>
                        <div class="file-upload-hint">JPG, PNG (max 5MB each)</div>
                    </div>
                    <input 
                        type="file" 
                        id="photoInput" 
                        accept="image/*" 
                        multiple 
                        style="display: none;"
                        onchange="handlePhotoUpload(event)"
                    >
                    <div class="uploaded-images" id="uploadedImages"></div>
                </div>

                <button type="submit" class="btn-login">
                    ‚ûï Add Property
                </button>
            </form>
        </div>
    </div>

    <!-- Upload Document Modal -->
    <div class="modal" id="uploadDocumentModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Upload Document</h2>
                <button class="btn-close" onclick="closeModal('uploadDocumentModal')">√ó</button>
            </div>

            <div class="success-message" id="uploadDocSuccess"></div>

            <form onsubmit="handleUploadDocument(event)">
                <div class="form-group">
                    <label class="form-label">Document Name *</label>
                    <input 
                        type="text" 
                        class="form-input" 
                        id="documentName"
                        required
                        placeholder="e.g., Contract - Via Ripetta"
                    >
                </div>

                <div class="form-group">
                    <label class="form-label">Property (optional)</label>
                    <select class="form-input" id="documentProperty">
                        <option value="">General Document</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Upload File *</label>
                    <div class="file-upload-area" onclick="document.getElementById('documentInput').click()">
                        <div class="file-upload-icon">üìÑ</div>
                        <div class="file-upload-text">Click to select file</div>
                        <div class="file-upload-hint">PDF, DOC, JPG, PNG (max 10MB)</div>
                    </div>
                    <input 
                        type="file" 
                        id="documentInput" 
                        accept=".pdf,.doc,.docx,.jpg,.jpeg,.png" 
                        style="display: none;"
                        required
                    >
                    <div id="selectedFileName" style="margin-top: 12px; font-size: 14px; color: var(--boom-green);"></div>
                </div>

                <button type="submit" class="btn-login">
                    üì§ Upload Document
                </button>
            </form>
        </div>
    </div>

    <script>
        // ========================================
        // üè† BOOM OWNER DASHBOARD V4.0
        // Complete System with Real File Uploads
        // ========================================

        let currentUser = null;
        let tempPropertyPhotos = [];

        // Check if already logged in
        document.addEventListener('DOMContentLoaded', function() {
            const savedSession = sessionStorage.getItem('boomOwnerSession');
            if (savedSession) {
                try {
                    currentUser = JSON.parse(savedSession);
                    showDashboard();
                } catch (e) {
                    console.error('Invalid session');
                }
            }
        });

        function handleLogin(event) {
            event.preventDefault();
            
            const name = document.getElementById('ownerName').value.trim();
            const password = document.getElementById('ownerPassword').value;

            if (!name || !password) {
                showError('Please fill all fields');
                return;
            }

            if (password.length < 4) {
                showError('Password must be at least 4 characters');
                return;
            }

            const userKey = btoa(name.toLowerCase() + ':' + password);
            
            currentUser = {
                name: name,
                key: userKey,
                loginTime: new Date().toISOString()
            };

            sessionStorage.setItem('boomOwnerSession', JSON.stringify(currentUser));
            
            showDashboard();
        }

        function handleLogout() {
            if (confirm('Are you sure you want to logout?')) {
                sessionStorage.removeItem('boomOwnerSession');
                currentUser = null;
                location.reload();
            }
        }

        function showDashboard() {
            document.getElementById('loginScreen').style.display = 'none';
            document.getElementById('dashboardContainer').classList.add('active');
            document.getElementById('dashboardOwnerName').textContent = currentUser.name;
            
            loadDashboardData();
        }

        function showError(message) {
            const errorEl = document.getElementById('errorMessage');
            errorEl.textContent = message;
            errorEl.classList.add('show');
            setTimeout(() => errorEl.classList.remove('show'), 5000);
        }

        function showSuccess(elementId, message) {
            const successEl = document.getElementById(elementId);
            successEl.textContent = message;
            successEl.classList.add('show');
            setTimeout(() => successEl.classList.remove('show'), 5000);
        }

        // ========================================
        // USER-SPECIFIC STORAGE
        // ========================================

        function getUserStorageKey(baseKey) {
            return `boom_${currentUser.key}_${baseKey}`;
        }

        function saveUserData(key, data) {
            if (!currentUser) return;
            const storageKey = getUserStorageKey(key);
            localStorage.setItem(storageKey, JSON.stringify(data));
        }

        function getUserData(key) {
            if (!currentUser) return null;
            const storageKey = getUserStorageKey(key);
            const data = localStorage.getItem(storageKey);
            return data ? JSON.parse(data) : null;
        }

        // ========================================
        // FILE HANDLING
        // ========================================

        function fileToBase64(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = () => resolve(reader.result);
                reader.onerror = reject;
                reader.readAsDataURL(file);
            });
        }

        async function handlePhotoUpload(event) {
            const files = event.target.files;
            if (!files.length) return;

            for (let file of files) {
                if (!file.type.startsWith('image/')) {
                    alert('Please select only image files');
                    continue;
                }

                if (file.size > 5 * 1024 * 1024) {
                    alert(`${file.name} is too large (max 5MB)`);
                    continue;
                }

                try {
                    const base64 = await fileToBase64(file);
                    tempPropertyPhotos.push({
                        name: file.name,
                        data: base64
                    });
                    displayUploadedPhotos();
                } catch (error) {
                    console.error('Error uploading photo:', error);
                    alert('Error uploading photo');
                }
            }
        }

        function displayUploadedPhotos() {
            const container = document.getElementById('uploadedImages');
            container.innerHTML = tempPropertyPhotos.map((photo, index) => `
                <div class="uploaded-image">
                    <img src="${photo.data}" alt="${photo.name}">
                    <button class="btn-remove-image" onclick="removePhoto(${index})" type="button">√ó</button>
                </div>
            `).join('');
        }

        function removePhoto(index) {
            tempPropertyPhotos.splice(index, 1);
            displayUploadedPhotos();
        }

        // ========================================
        // NAVIGATION
        // ========================================

        function switchSection(sectionName) {
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.classList.add('active');

            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionName + 'Section').classList.add('active');

            if (sectionName === 'properties') loadProperties();
            if (sectionName === 'documents') loadDocuments();
        }

        // ========================================
        // MODAL MANAGEMENT
        // ========================================

        function openAddPropertyModal() {
            tempPropertyPhotos = [];
            document.getElementById('addPropertyModal').classList.add('active');
            document.getElementById('propertyName').value = '';
            document.getElementById('propertyAddress').value = '';
            document.getElementById('propertyDescription').value = '';
            document.getElementById('propertyRent').value = '';
            document.getElementById('propertyBedrooms').value = '';
            document.getElementById('propertyBathrooms').value = '';
            document.getElementById('propertySqm').value = '';
            document.getElementById('propertyStatus').value = 'available';
            document.getElementById('uploadedImages').innerHTML = '';
        }

        function openUploadDocumentModal() {
            document.getElementById('uploadDocumentModal').classList.add('active');
            
            // Populate property dropdown
            const properties = getUserData('properties') || [];
            const select = document.getElementById('documentProperty');
            select.innerHTML = '<option value="">General Document</option>';
            properties.forEach(prop => {
                select.innerHTML += `<option value="${prop.id}">${prop.name}</option>`;
            });

            document.getElementById('documentName').value = '';
            document.getElementById('selectedFileName').textContent = '';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // Handle document input display
        document.getElementById('documentInput')?.addEventListener('change', function(e) {
            if (e.target.files.length > 0) {
                document.getElementById('selectedFileName').textContent = `‚úì ${e.target.files[0].name}`;
            }
        });

        // ========================================
        // DASHBOARD DATA
        // ========================================

        function loadDashboardData() {
            const properties = getUserData('properties') || [];
            
            document.getElementById('statTotalProperties').textContent = properties.length;
            
            const rented = properties.filter(p => p.status === 'rented').length;
            document.getElementById('statRented').textContent = rented;
            
            const available = properties.filter(p => p.status === 'available').length;
            document.getElementById('statAvailable').textContent = available;
            
            const revenue = properties
                .filter(p => p.status === 'rented')
                .reduce((sum, p) => sum + (p.rent || 0), 0);
            document.getElementById('statRevenue').textContent = `‚Ç¨${revenue.toLocaleString()}`;

            loadOverviewProperties();
        }

        function loadOverviewProperties() {
            const properties = getUserData('properties') || [];
            const container = document.getElementById('overviewPropertiesList');

            if (properties.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">üè†</div>
                        <div class="empty-title">No Properties Yet</div>
                        <div class="empty-text">
                            Add your first property to get started!
                        </div>
                    </div>
                `;
                return;
            }

            container.innerHTML = `
                <div class="properties-grid">
                    ${properties.map(property => createPropertyCard(property)).join('')}
                </div>
            `;
        }

        function loadProperties() {
            const properties = getUserData('properties') || [];
            const container = document.getElementById('propertiesList');

            if (properties.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">üè†</div>
                        <div class="empty-title">No Properties Yet</div>
                        <div class="empty-text">
                            Add your first property to get started!
                        </div>
                    </div>
                `;
                return;
            }

            container.innerHTML = `
                <div class="properties-grid">
                    ${properties.map(property => createPropertyCard(property)).join('')}
                </div>
            `;
        }

        function createPropertyCard(property) {
            const statusClass = `status-${property.status}`;
            const statusLabel = property.status.charAt(0).toUpperCase() + property.status.slice(1);
            
            // Use first photo or default icon
            const imageContent = property.photos && property.photos.length > 0 
                ? `<img src="${property.photos[0].data}" alt="${property.name}">`
                : 'üè†';

            return `
                <div class="property-card" onclick="viewPropertyDetails('${property.id}')">
                    <div class="property-image">
                        ${imageContent}
                        <div class="property-status ${statusClass}">${statusLabel}</div>
                    </div>
                    <div class="property-info">
                        <div class="property-title">${property.name}</div>
                        <div class="property-address">${property.address}</div>
                        <div class="property-details">
                            <div class="property-detail">
                                <strong>‚Ç¨${property.rent || 0}</strong>
                                Monthly
                            </div>
                            <div class="property-detail">
                                <strong>${property.bedrooms || 0}</strong>
                                Bedrooms
                            </div>
                            <div class="property-detail">
                                <strong>${property.sqm || 0}m¬≤</strong>
                                Area
                            </div>
                        </div>
                        <div class="property-actions" onclick="event.stopPropagation()">
                            <button class="btn-property" onclick="editProperty('${property.id}')">
                                Edit
                            </button>
                            <button class="btn-property danger" onclick="deleteProperty('${property.id}')">
                                Delete
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        async function handleAddProperty(event) {
            event.preventDefault();

            const property = {
                id: Date.now().toString(),
                name: document.getElementById('propertyName').value,
                address: document.getElementById('propertyAddress').value,
                description: document.getElementById('propertyDescription').value,
                rent: parseInt(document.getElementById('propertyRent').value),
                bedrooms: parseInt(document.getElementById('propertyBedrooms').value),
                bathrooms: parseInt(document.getElementById('propertyBathrooms').value) || 0,
                sqm: parseInt(document.getElementById('propertySqm').value),
                status: document.getElementById('propertyStatus').value,
                photos: tempPropertyPhotos,
                createdAt: new Date().toISOString()
            };

            const properties = getUserData('properties') || [];
            properties.push(property);
            saveUserData('properties', properties);

            showSuccess('addPropertySuccess', '‚úÖ Property added successfully!');
            
            setTimeout(() => {
                closeModal('addPropertyModal');
                loadDashboardData();
                loadProperties();
            }, 1500);
        }

        function editProperty(id) {
            const properties = getUserData('properties') || [];
            const property = properties.find(p => p.id === id);
            if (!property) return;

            const newStatus = prompt('Status (available/rented/maintenance):', property.status);
            if (newStatus && ['available', 'rented', 'maintenance'].includes(newStatus)) {
                property.status = newStatus;
                saveUserData('properties', properties);
                loadDashboardData();
                loadProperties();
            }
        }

        function deleteProperty(id) {
            if (!confirm('Delete this property?')) return;

            let properties = getUserData('properties') || [];
            properties = properties.filter(p => p.id !== id);
            saveUserData('properties', properties);

            loadDashboardData();
            loadProperties();
        }

        function viewPropertyDetails(id) {
            const properties = getUserData('properties') || [];
            const property = properties.find(p => p.id === id);
            if (!property) return;

            const photosCount = property.photos ? property.photos.length : 0;

            alert(`
Property Details:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üìç ${property.name}
üè† ${property.address}
üí∞ ‚Ç¨${property.rent}/month
üõèÔ∏è  ${property.bedrooms} bedrooms
üöø ${property.bathrooms} bathrooms
üìê ${property.sqm}m¬≤
üìä Status: ${property.status}
üì∏ Photos: ${photosCount}
${property.description ? '\nüìù ' + property.description : ''}
            `);
        }

        // ========================================
        // DOCUMENTS
        // ========================================

        function loadDocuments() {
            const documents = getUserData('documents') || [];
            const container = document.getElementById('documentsList');

            if (documents.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">üìÑ</div>
                        <div class="empty-title">No Documents Yet</div>
                        <div class="empty-text">
                            Upload your contracts and important documents
                        </div>
                    </div>
                `;
                return;
            }

            container.innerHTML = documents.map(doc => {
                const isImage = doc.type.startsWith('image/');
                const previewContent = isImage 
                    ? `<div class="document-preview"><img src="${doc.data}" alt="${doc.name}"></div>`
                    : `<div class="document-icon">${getDocumentIcon(doc.type)}</div>`;

                return `
                    <div class="document-item">
                        <div class="document-info">
                            ${previewContent}
                            <div>
                                <div class="document-name">${doc.name}</div>
                                <div class="document-meta">
                                    ${new Date(doc.uploadedAt).toLocaleDateString()} ‚Ä¢ ${(doc.size / 1024).toFixed(0)}KB
                                    ${doc.propertyName ? ` ‚Ä¢ ${doc.propertyName}` : ''}
                                </div>
                            </div>
                        </div>
                        <div class="document-actions">
                            <button class="btn-document" onclick="viewDocument('${doc.id}')">
                                View
                            </button>
                            <button class="btn-document danger" onclick="deleteDocument('${doc.id}')">
                                Delete
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function getDocumentIcon(type) {
            if (type.includes('pdf')) return 'üìë';
            if (type.includes('word') || type.includes('doc')) return 'üìù';
            if (type.includes('image')) return 'üñºÔ∏è';
            return 'üìÑ';
        }

        async function handleUploadDocument(event) {
            event.preventDefault();

            const fileInput = document.getElementById('documentInput');
            const file = fileInput.files[0];
            
            if (!file) {
                alert('Please select a file');
                return;
            }

            if (file.size > 10 * 1024 * 1024) {
                alert('File too large (max 10MB)');
                return;
            }

            try {
                const base64 = await fileToBase64(file);
                
                const propertyId = document.getElementById('documentProperty').value;
                const properties = getUserData('properties') || [];
                const property = properties.find(p => p.id === propertyId);

                const document = {
                    id: Date.now().toString(),
                    name: document.getElementById('documentName').value,
                    propertyId: propertyId || null,
                    propertyName: property ? property.name : null,
                    type: file.type,
                    size: file.size,
                    data: base64,
                    uploadedAt: new Date().toISOString()
                };

                const documents = getUserData('documents') || [];
                documents.push(document);
                saveUserData('documents', documents);

                showSuccess('uploadDocSuccess', '‚úÖ Document uploaded!');
                
                setTimeout(() => {
                    closeModal('uploadDocumentModal');
                    loadDocuments();
                }, 1500);
            } catch (error) {
                console.error('Error uploading document:', error);
                alert('Error uploading document');
            }
        }

        function viewDocument(id) {
            const documents = getUserData('documents') || [];
            const doc = documents.find(d => d.id === id);
            if (!doc) return;

            // Open in new window
            const newWindow = window.open('', '_blank');
            if (doc.type.startsWith('image/') || doc.type.includes('pdf')) {
                newWindow.document.write(`
                    <!DOCTYPE html>
                    <html>
                    <head>
                        <title>${doc.name}</title>
                        <style>
                            body { margin: 0; padding: 20px; background: #0A0A0A; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
                            img, iframe { max-width: 100%; max-height: 90vh; border-radius: 12px; }
                        </style>
                    </head>
                    <body>
                        ${doc.type.startsWith('image/') 
                            ? `<img src="${doc.data}" alt="${doc.name}">`
                            : `<iframe src="${doc.data}" width="100%" height="800px"></iframe>`
                        }
                    </body>
                    </html>
                `);
            } else {
                // Download for other types
                const link = document.createElement('a');
                link.href = doc.data;
                link.download = doc.name;
                link.click();
            }
        }

        function deleteDocument(id) {
            if (!confirm('Delete this document?')) return;

            let documents = getUserData('documents') || [];
            documents = documents.filter(d => d.id !== id);
            saveUserData('documents', documents);

            loadDocuments();
        }

        // Drag & Drop for photos
        const photoUploadArea = document.getElementById('photoUploadArea');
        if (photoUploadArea) {
            photoUploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                photoUploadArea.classList.add('dragover');
            });

            photoUploadArea.addEventListener('dragleave', () => {
                photoUploadArea.classList.remove('dragover');
            });

            photoUploadArea.addEventListener('drop', async (e) => {
                e.preventDefault();
                photoUploadArea.classList.remove('dragover');
                
                const files = e.dataTransfer.files;
                for (let file of files) {
                    if (file.type.startsWith('image/')) {
                        const base64 = await fileToBase64(file);
                        tempPropertyPhotos.push({ name: file.name, data: base64 });
                    }
                }
                displayUploadedPhotos();
            });
        }

        console.log('üè† BOOM Owner Dashboard V4.0');
        console.log('‚úÖ Real File Uploads Active');
        console.log('üì∏ Photo Management');
        console.log('üìÑ Document Management');
        console.log('üîê Multi-User System');
    </script>
</body>
</html>